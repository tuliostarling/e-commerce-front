!function(n){function i(n,t){for(var i=window,r=(n||"").split(".");i&&r.length;)i=i[r.shift()];return"function"==typeof i?i:(t.push(n),Function.constructor.apply(null,t))}function u(n){return"GET"===n||"POST"===n}function e(n,t){u(t)||n.setRequestHeader("X-HTTP-Method-Override",t)}function o(t,i,r){var u;r.indexOf("application/x-javascript")===-1&&(u=(t.getAttribute("data-ajax-mode")||"").toUpperCase(),n(t.getAttribute("data-ajax-update")).each(function(t,r){switch(u){case"BEFORE":n(r).prepend(i);break;case"AFTER":n(r).append(i);break;case"REPLACE-WITH":n(r).replaceWith(i);break;default:n(r).html(i)}}))}function f(t,r){var s,h,f,c;s=t.getAttribute("data-ajax-confirm");s&&!window.confirm(s)||(h=n(t.getAttribute("data-ajax-loading")),c=parseInt(t.getAttribute("data-ajax-loading-duration"),10)||0,n.extend(r,{type:t.getAttribute("data-ajax-method")||void 0,url:t.getAttribute("data-ajax-url")||void 0,cache:"true"===(t.getAttribute("data-ajax-cache")||"").toLowerCase(),beforeSend:function(n){var r;return e(n,f),r=i(t.getAttribute("data-ajax-begin"),["xhr"]).apply(t,arguments),r!==!1&&h.show(c),r},complete:function(){h.hide(c);i(t.getAttribute("data-ajax-complete"),["xhr","status"]).apply(t,arguments)},success:function(n,r,u){o(t,n,u.getResponseHeader("Content-Type")||"text/html");i(t.getAttribute("data-ajax-success"),["data","status","xhr"]).apply(t,arguments)},error:function(){i(t.getAttribute("data-ajax-failure"),["xhr","status","error"]).apply(t,arguments)}}),r.data.push({name:"X-Requested-With",value:"XMLHttpRequest"}),f=r.type.toUpperCase(),u(f)||(r.type="POST",r.data.push({name:"X-HTTP-Method-Override",value:f})),n.ajax(r))}function s(t){var i=n(t).data(h);return!i||!i.validate||i.validate()}var t="unobtrusiveAjaxClick",r="unobtrusiveAjaxClickTarget",h="unobtrusiveValidation";n(document).on("click","a[data-ajax=true]",function(n){n.preventDefault();f(this,{url:this.href,type:"GET",data:[]})});n(document).on("click","form[data-ajax=true] input[type=image]",function(i){var r=i.target.name,u=n(i.target),f=n(u.parents("form")[0]),e=u.offset();f.data(t,[{name:r+".x",value:Math.round(i.pageX-e.left)},{name:r+".y",value:Math.round(i.pageY-e.top)}]);setTimeout(function(){f.removeData(t)},0)});n(document).on("click","form[data-ajax=true] :submit",function(i){var f=i.currentTarget.name,e=n(i.target),u=n(e.parents("form")[0]);u.data(t,f?[{name:f,value:i.currentTarget.value}]:[]);u.data(r,e);setTimeout(function(){u.removeData(t);u.removeData(r)},0)});n(document).on("submit","form[data-ajax=true]",function(i){var e=n(this).data(t)||[],u=n(this).data(r),o=u&&(u.hasClass("cancel")||void 0!==u.attr("formnovalidate"));i.preventDefault();(o||s(this))&&f(this,{url:this.action,type:this.method||"GET",data:e.concat(n(this).serializeArray())})})}(jQuery);!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){n.extend(n.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=n.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(t){i.settings.submitHandler&&(i.submitButton=t.target);n(this).hasClass("cancel")&&(i.cancelSubmit=!0);void 0!==n(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(t){function r(){var u,r;return i.settings.submitHandler?(i.submitButton&&(u=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(n(i.submitButton).val()).appendTo(i.currentForm)),r=i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&u.remove(),void 0!==r?r:!1):!0}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){var t,i,r;return n(this[0]).is("form")?t=this.validate().form():(r=[],t=!0,i=n(this[0].form).validate(),this.each(function(){t=i.element(this)&&t;r=r.concat(i.errorList)}),i.errorList=r),t},rules:function(t,i){var e,s,f,u,o,h,r=this[0];if(t)switch(e=n.data(r.form,"validator").settings,s=e.rules,f=n.validator.staticRules(r),t){case"add":n.extend(f,n.validator.normalizeRule(i));delete f.messages;s[r.name]=f;i.messages&&(e.messages[r.name]=n.extend(e.messages[r.name],i.messages));break;case"remove":return i?(h={},n.each(i.split(/\s/),function(t,i){h[i]=f[i];delete f[i];"required"===i&&n(r).removeAttr("aria-required")}),h):(delete s[r.name],f)}return u=n.validator.normalizeRules(n.extend({},n.validator.classRules(r),n.validator.attributeRules(r),n.validator.dataRules(r),n.validator.staticRules(r)),r),u.required&&(o=u.required,delete u.required,u=n.extend({required:o},u),n(r).attr("aria-required","true")),u.remote&&(o=u.remote,delete u.remote,u=n.extend(u,{remote:o})),u}});n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+n(t).val())},filled:function(t){return!!n.trim(""+n(t).val())},unchecked:function(t){return!n(t).prop("checked")}});n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t);this.currentForm=i;this.init()};n.validator.format=function(t,i){return 1===arguments.length?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),function(){return i})}),t)};n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(n){this.lastActive=n;this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(n)))},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(t,i){9===i.which&&""===this.elementValue(t)||-1!==n.inArray(i.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function i(t){var r=n.data(this.form,"validator"),u="on"+t.type.replace(/^validate/,""),i=r.settings;i[u]&&!n(this).is(i.ignore)&&i[u].call(r,this,t)}this.labelContainer=n(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm);this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var t,r=this.groups={};n.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/));n.each(i,function(n,i){r[i]=t})});t=this.settings.rules;n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)});n(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",i).on("click.validate","select, option, [type='radio'], [type='checkbox']",i);this.settings.invalidHandler&&n(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler);n(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){var u=this.clean(t),i=this.validationTargetFor(u),r=!0;return this.lastElement=i,void 0===i?delete this.invalid[u.name]:(this.prepareElement(i),this.currentElements=n(i),r=this.check(i)!==!1,r?delete this.invalid[i.name]:this.invalid[i.name]=!0),n(t).attr("aria-invalid",!r),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(t){if(t){n.extend(this.errorMap,t);this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();var t,i=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(t=0;i[t];t++)this.settings.unhighlight.call(this,i[t],this.settings.errorClass,"");else i.removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var i,t=0;for(i in n)t++;return t},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(n){n.not(this.containers).text("");this.addWrapper(n).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===n.grep(this.errorList,function(n){return n.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!t.objectLength(n(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return n(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=n([]);this.toHide=n([]);this.currentElements=n([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset();this.toHide=this.errorsFor(n)},elementValue:function(t){var i,u=n(t),r=t.type;return"radio"===r||"checkbox"===r?this.findByName(t.name).filter(":checked").val():"number"===r&&"undefined"!=typeof t.validity?t.validity.badInput?!1:u.val():(i=u.val(),"string"==typeof i?i.replace(/\r/g,""):i)},check:function(t){t=this.validationTargetFor(this.clean(t));var r,u,i,f=n(t).rules(),s=n.map(f,function(n,t){return t}).length,o=!1,h=this.elementValue(t);for(u in f){i={method:u,parameters:f[u]};try{if(r=n.validator.methods[u].call(this,h,t,i.parameters),"dependency-mismatch"===r&&1===s){o=!0;continue}if(o=!1,"pending"===r)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!r)return this.formatAndAdd(t,i),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+i.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+i.method+"' method."),e;}}if(!o)return this.objectLength(f)&&this.successList.push(t),!0},customDataMessage:function(t,i){return n(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||n(t).data("msg")},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(void 0!==arguments[n])return arguments[n];return void 0},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),!this.settings.ignoreTitle&&t.title||void 0,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"<\/strong>")},formatAndAdd:function(t,i){var r=this.defaultMessage(t,i.method),u=/\$?\{(\d+)\}/g;"function"==typeof r?r=r.call(this,i.parameters,t):u.test(r)&&(r=n.validator.format(r.replace(u,"{$1}"),i.parameters));this.errorList.push({message:r,element:t,method:i.method});this.errorMap[t.name]=r;this.submitted[t.name]=r},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var i,t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var u,o,e,r=this.errorsFor(t),s=this.idOrName(t),f=n(t).attr("aria-describedby");r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(i)):(r=n("<"+this.settings.errorElement+">").attr("id",s+"-error").addClass(this.settings.errorClass).html(i||""),u=r,this.settings.wrapper&&(u=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(u):this.settings.errorPlacement?this.settings.errorPlacement(u,n(t)):u.insertAfter(t),r.is("label")?r.attr("for",s):0===r.parents("label[for='"+s+"']").length&&(e=r.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),f?f.match(new RegExp("\\b"+e+"\\b"))||(f+=" "+e):f=e,n(t).attr("aria-describedby",f),o=this.groups[t.name],o&&n.each(this.groups,function(t,i){i===o&&n("[name='"+t+"']",this.currentForm).attr("aria-describedby",r.attr("id"))})));!i&&this.settings.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r,t));this.toShow=this.toShow.add(r)},errorsFor:function(t){var r=this.idOrName(t),u=n(t).attr("aria-describedby"),i="label[for='"+r+"'], label[for='"+r+"'] *";return u&&(i=i+", #"+u.replace(/\s+/g,", #")),this.errors().filter(i)},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),n(t).not(this.settings.ignore)[0]},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){return n(this.currentForm).find("[name='"+t+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){var i=this.elementValue(t);return!n.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--;this.pendingRequest<0&&(this.pendingRequest=0);delete this.pending[t.name];i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})},destroy:function(){this.resetForm();n(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=n(t).attr("class");return r&&n.each(r.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(n,t,i,r){/min|max/.test(i)&&(null===t||/number|range|text/.test(t))&&(r=Number(r),isNaN(r)&&(r=void 0));r||0===r?n[i]=r:t===i&&"range"!==t&&(n[i]=!0)},attributeRules:function(t){var r,i,u={},f=n(t),e=t.getAttribute("type");for(r in n.validator.methods)"required"===r?(i=t.getAttribute(r),""===i&&(i=!0),i=!!i):i=f.attr(r),this.normalizeAttributeRule(u,e,r,i);return u.maxlength&&/-1|2147483647|524288/.test(u.maxlength)&&delete u.maxlength,u},dataRules:function(t){var i,r,u={},f=n(t),e=t.getAttribute("type");for(i in n.validator.methods)r=f.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),this.normalizeAttributeRule(u,e,i,r);return u},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1)return void delete t[r];if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=void 0!==u.param?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){var i;t[this]&&(n.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),n.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};n.each(t.split(/\s/),function(){i[this]=!0});t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i;n.validator.messages[t]=void 0!==r?r:n.validator.messages[t];i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var u=n(i).val();return u&&u.length>0}return this.checkable(i)?this.getLength(t,i)>0:t.length>0},email:function(n,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(n)},url:function(n,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n).toString())},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(n)},number:function(n,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(n))return!1;var i,f,e=0,r=0,u=!1;if(n=n.replace(/\D/g,""),n.length<13||n.length>19)return!1;for(i=n.length-1;i>=0;i--)f=n.charAt(i),r=parseInt(f,10),u&&(r*=2)>9&&(r-=9),e+=r,u=!u;return e%10==0},minlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u>=r},maxlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r>=u},rangelength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u>=r[0]&&u<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||i>=n},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},equalTo:function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.off(".validate-equalTo").on("blur.validate-equalTo",function(){n(i).valid()}),t===u.val()},remote:function(t,i,r){if(this.optional(i))return"dependency-mismatch";var u,e,f=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r="string"==typeof r&&{url:r}||r,f.old===t?f.valid:(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:e,context:u.currentForm,success:function(r){var o,e,h,s=r===!0||"true"===r;u.settings.messages[i.name].remote=f.originalMessage;s?(h=u.formSubmitted,u.prepareElement(i),u.formSubmitted=h,u.successList.push(i),delete u.invalid[i.name],u.showErrors()):(o={},e=r||u.defaultMessage(i,"remote"),o[i.name]=f.message=n.isFunction(e)?e(t):e,u.invalid[i.name]=!0,u.showErrors(o));f.valid=s;u.stopRequest(i,s)}},r)),"pending")}}});var i,t={};n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){var u=n.port;"abort"===n.mode&&(t[u]&&t[u].abort(),t[u]=r)}):(i=n.ajax,n.ajax=function(r){var f=("mode"in r?r:n.ajaxSettings).mode,u=("port"in r?r:n.ajaxSettings).port;return"abort"===f?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments),t[u]):i.apply(this,arguments)})});!function(n){"function"==typeof define&&define.amd?define("jquery.validate.unobtrusive",["jquery-validation"],n):"object"==typeof module&&module.exports?module.exports=n(require("jquery-validation")):jQuery.validator.unobtrusive=n(jQuery)}(function(n){function i(n,t,i){n.rules[t]=i;n.message&&(n.messages[t]=n.message)}function h(n){return n.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function f(n){return n.replace(/([!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~])/g,"\\$1")}function e(n){return n.substr(0,n.lastIndexOf(".")+1)}function o(n,t){return 0===n.indexOf("*.")&&(n=n.replace("*.",t)),n}function c(t,i){var r=n(this).find("[data-valmsg-for='"+f(i[0].name)+"']"),u=r.attr("data-valmsg-replace"),e=u?n.parseJSON(u)!==!1:null;r.removeClass("field-validation-valid").addClass("field-validation-error");t.data("unobtrusiveContainer",r);e?(r.empty(),t.removeClass("input-validation-error").appendTo(r)):t.hide()}function l(t,i){var u=n(this).find("[data-valmsg-summary=true]"),r=u.find("ul");r&&r.length&&i.errorList.length&&(r.empty(),u.addClass("validation-summary-errors").removeClass("validation-summary-valid"),n.each(i.errorList,function(){n("<li />").html(this.message).appendTo(r)}))}function a(t){var i=t.data("unobtrusiveContainer"),r,u;i&&(r=i.attr("data-valmsg-replace"),u=r?n.parseJSON(r):null,i.addClass("field-validation-valid").removeClass("field-validation-error"),t.removeData("unobtrusiveContainer"),u&&i.empty())}function v(){var t=n(this),i="__jquery_unobtrusive_validation_form_reset";if(!t.data(i)){t.data(i,!0);try{t.data("validator").resetForm()}finally{t.removeData(i)}t.find(".validation-summary-errors").addClass("validation-summary-valid").removeClass("validation-summary-errors");t.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").removeData("unobtrusiveContainer").find(">*").removeData("unobtrusiveContainer")}}function s(t){var i=n(t),f=i.data(u),s=n.proxy(v,t),e=r.unobtrusive.options||{},o=function(i,r){var u=e[i];u&&n.isFunction(u)&&u.apply(t,r)};return f||(f={options:{errorClass:e.errorClass||"input-validation-error",errorElement:e.errorElement||"span",errorPlacement:function(){c.apply(t,arguments);o("errorPlacement",arguments)},invalidHandler:function(){l.apply(t,arguments);o("invalidHandler",arguments)},messages:{},rules:{},success:function(){a.apply(t,arguments);o("success",arguments)}},attachValidation:function(){i.off("reset."+u,s).on("reset."+u,s).validate(this.options)},validate:function(){return i.validate(),i.valid()}},i.data(u,f)),f}var t,r=n.validator,u="unobtrusiveValidation";return r.unobtrusive={adapters:[],parseElement:function(t,i){var r,u,o,f=n(t),e=f.parents("form")[0];e&&(r=s(e),r.options.rules[t.name]=u={},r.options.messages[t.name]=o={},n.each(this.adapters,function(){var i="data-val-"+this.name,r=f.attr(i),s={};void 0!==r&&(i+="-",n.each(this.params,function(){s[this]=f.attr(i+this)}),this.adapt({element:t,form:e,message:r,params:s,rules:u,messages:o}))}),n.extend(u,{__dummy__:!0}),i||r.attachValidation())},parse:function(t){var i=n(t),u=i.parents().addBack().filter("form").add(i.find("form")).has("[data-val=true]");i.find("[data-val=true]").each(function(){r.unobtrusive.parseElement(this,!0)});u.each(function(){var n=s(this);n&&n.attachValidation()})}},t=r.unobtrusive.adapters,t.add=function(n,t,i){return i||(i=t,t=[]),this.push({name:n,params:t,adapt:i}),this},t.addBool=function(n,t){return this.add(n,function(r){i(r,t||n,!0)})},t.addMinMax=function(n,t,r,u,f,e){return this.add(n,[f||"min",e||"max"],function(n){var f=n.params.min,e=n.params.max;f&&e?i(n,u,[f,e]):f?i(n,t,f):e&&i(n,r,e)})},t.addSingleVal=function(n,t,r){return this.add(n,[t||"val"],function(u){i(u,r||n,u.params[t])})},r.addMethod("__dummy__",function(){return!0}),r.addMethod("regex",function(n,t,i){var r;return!!this.optional(t)||(r=new RegExp(i).exec(n),r&&0===r.index&&r[0].length===n.length)}),r.addMethod("nonalphamin",function(n,t,i){var r;return i&&(r=n.match(/\W/g),r=r&&r.length>=i),r}),r.methods.extension?(t.addSingleVal("accept","mimtype"),t.addSingleVal("extension","extension")):t.addSingleVal("extension","extension","accept"),t.addSingleVal("regex","pattern"),t.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url"),t.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range"),t.addMinMax("minlength","minlength").addMinMax("maxlength","minlength","maxlength"),t.add("equalto",["other"],function(t){var r=e(t.element.name),u=t.params.other,s=o(u,r),h=n(t.form).find(":input").filter("[name='"+f(s)+"']")[0];i(t,"equalTo",h)}),t.add("required",function(n){"INPUT"===n.element.tagName.toUpperCase()&&"CHECKBOX"===n.element.type.toUpperCase()||i(n,"required",!0)}),t.add("remote",["url","type","additionalfields"],function(t){var r={url:t.params.url,type:t.params.type||"GET",data:{}},u=e(t.element.name);n.each(h(t.params.additionalfields||t.element.name),function(i,e){var s=o(e,u);r.data[s]=function(){var i=n(t.form).find(":input").filter("[name='"+f(s)+"']");return i.is(":checkbox")?i.filter(":checked").val()||i.filter(":hidden").val()||"":i.is(":radio")?i.filter(":checked").val()||"":i.val()}});i(t,"remote",r)}),t.add("password",["min","nonalphamin","regex"],function(n){n.params.min&&i(n,"minlength",n.params.min);n.params.nonalphamin&&i(n,"nonalphamin",n.params.nonalphamin);n.params.regex&&i(n,"regex",n.params.regex)}),t.add("fileextensions",["extensions"],function(n){i(n,"extension",n.params.extensions)}),n(function(){r.unobtrusive.parse(document)}),r.unobtrusive});TESTDOME=TESTDOME||{};TESTDOME.jsBundleLoaded=!0;TESTDOME=TESTDOME||{};TESTDOME.utilities={callAjax:function(n,t,i,r,u){u=u||{};var f={url:n,data:t,type:"POST",tryCount:0,retryLimit:u.retryLimit||1,timeout:u.timeout||35e3,success:i,error:function(n,t){if(t==="timeout"&&(this.tryCount++,this.tryCount<=this.retryLimit)){u.retryCallback&&u.retryCallback();$.ajax(this);return}r&&(u.json?r(n.responseJSON):r())}};return u.json&&(f.contentType="application/json; charset=utf-8"),$.ajax(f)},cookiesEnabled:function(){var n=navigator.cookieEnabled?!0:!1;return typeof navigator.cookiesEnabled!="undefined"||n||(document.cookie="test",n=document.cookie.indexOf("test")>-1?!0:!1),n},enableElement:function(n){$(n).removeAttr("disabled")},disableElement:function(n){$(n).attr("disabled","disabled")},scrollToElement:function(n,t,i){if(n&&n.offset()){var r=n.offset().top;i?r=n.offset().top:r+=n.height()-$(window).height()+100;t&&(r+=t);r<=0&&(r=0);$("html, body").animate({scrollTop:r},"slow")}},scrollToTop:function(){$("html, body").animate({scrollTop:0})},showEasy:function(n){n.stop(!0,!0).css("visibility","visible").animate({opacity:1},50)},hideEasy:function(n){n.stop(!0,!0).css("visibility","hidden").animate({opacity:0},150)},getTimeSpanFromMinutes:function(n){return{hours:Math.floor(n/60),minutes:n%60}},getTimeSpanFromTime:function(n){var u=Math.floor(n/864e5),t,i,r;return n=n%864e5,t=Math.floor(n/36e5),n=n%36e5,i=Math.floor(n/6e4),n=n%6e4,r=Math.floor(n/1e3),{days:u,hours:t,minutes:i,seconds:r}},displayTimeSpan:function(n,t){var r=n.days||0,u=n.hours||0,i=n.minutes||0,f=n.seconds||0;return r>=2?u>0?r+"days "+u+"h":r+"days":u>0?i>0?r*24+u+"h "+i+"min":r*24+u+"h":i>0?f>0?!t||i<t?i+"min "+f+"sec":i+1+"min":i+"min":f+"sec"},formatDecimal:function(n,t){return parseFloat(Math.round(n*100)/100).toFixed(t)},formatAmount:function(n,t){return"$"+n.toFixed(t).replace(/(\d)(?=(\d{3})+\.?)/g,"$1,")},unclickButton:function(n){$(n).removeClass("active").blur()},addDays:function(n,t){return new Date(n.getTime()+t*864e5)},addHours:function(n,t){return new Date(n.getTime()+t*36e5)},getUtcDate:function(){var n=new Date;return new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds())},displayDate:function(n,t,i){var r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()]+" ",f=n.getDate(),u;return r+=f,(n.getFullYear()!==(new Date).getUTCFullYear()||t||i)&&(r+=","),(n.getFullYear()!==(new Date).getUTCFullYear()||i)&&(r+=" "+n.getFullYear()),t&&(u=n.getMinutes(),r+=" "+n.getHours()+":"+(u<10?"0":"")+u),r},decode:function(n,t){for(var u=n.length,r="",i=0;i<n.length;i++)r+=t.indexOf(n.charAt(i))===-1?n.charAt(i):t.charAt((t.indexOf(n.charAt(i))-u+t.length)%t.length);return r},countTime:function(n,t,i){function r(){var e=(new Date).getTime(),t=n-Math.round((e-f)/1e3);t<0&&(t=0);u.html(t);t==0?i():setTimeout(r,1e3)}var u=$("#"+t),f=(new Date).getTime();r()},registerClosePopoverOnClick:function(){$("body").on("click touchstart",function(n){var t=$(".popover");t.length!=0&&$("abbr").each(function(){$(this).is(n.target)||$(this).has(n.target).length!==0||t.has(n.target).length!==0||$(this).popover("hide")})})},showWaitDialog:function(){$('<div class="modal" id="WaitDialog"><div class="modal-dialog modal-sm"><div class="modal-content"><br/><h4 class="text-center">Please wait...<h4/><br/><\/div><\/div><\/div>').modal({show:!0,backdrop:!0})},hideWaitDialog:function(){$("#WaitDialog").modal("hide")},refreshCodeMirror:function(){$(".CodeMirror").each(function(n,t){t.CodeMirror.refresh()})},preventDoubleSubmission:function(){$("form").submit(function(){$(this).validate();$(this).valid()&&$(this).find("[type='submit']").attr("disabled","disabled")})},bindFieldUpdater:function(n){function s(n,t,i){return n.split(t).join(i)}function h(n){var t,r;if(i)for(t=0;t<i.length;t++)r=i[t],n=s(n,r.Name,r.GetValue());return n}function u(){e(r,h(o))}function c(n){n.on("keyup paste click mouseleave",function(){u()})}var r=n.field,f=n.getValue||function(n){return n.val()},e=n.setValue||function(n,t){n.val(t)},o=f(r),i=n.additionalReplacements,t;if(u(),n.refreshElements)for(t=0;t<n.refreshElements.length;t++)c(n.refreshElements[t])},setAutoSize:function(n){var i=window.opera?n.offsetHeight+parseInt(window.getComputedStyle(n,null).getPropertyValue("border-top-width")):n.offsetHeight-n.clientHeight,t=function(n){n.style.height="auto";n.style.height=n.scrollHeight+i+"px"};n.addEventListener&&n.addEventListener("input",function(){t(n)});n.attachEvent&&n.attachEvent("onkeyup",function(){t(n)});t(n)},getChartPopupWidth:function(){return $(document).width()<350?290:320},drawChart:function(n){var t=[["Score","Percentage",{role:"style"}],["0-33%",$("#PerformanceData"+n).data("performance33"),"#ff8282"],["34-66%",$("#PerformanceData"+n).data("performance66"),"#d2d44f"],["67-100%",$("#PerformanceData"+n).data("performance100"),"#77cc5a"]],i=google.visualization.arrayToDataTable(t),r={title:"",width:TESTDOME.utilities.getChartPopupWidth(),height:300,legend:{position:"none"},hAxis:{title:"Score",titleTextStyle:{italic:!1}},vAxis:{title:"# of candidates",textPosition:"none",titleTextStyle:{italic:!1}},bar:{groupWidth:"80%"},enableInteractivity:!1,fontName:"Open Sans",chartArea:{top:25,width:"75%",height:"75%"}},u=new google.visualization.ColumnChart(document.getElementById("ChartHistogram"+n));u.draw(i,r)},determinePopupPlacement:function(n,t,i){var f=$(t).offset(),r=f.top-$(document).scrollTop(),u=$(window).scrollTop()+$(window).height()-f.top,e=$(document).width()-($(t).offset().left+$(t).outerWidth());return i||(i="right"),$(document).width()<768?r>u?"top":"bottom":r>100&&u>100?i=="right"&&e>400?"right":"left":r>u?"top":"bottom"},turnOnChartPopup:function(n,t,i){$("#ScoreDistributionText"+n).hide();$("#ViewScoreDistribution"+n).show();$("#ViewScoreDistribution"+n).popover({html:!0,trigger:"manual",placement:function(n,i){return TESTDOME.utilities.determinePopupPlacement(n,i,t)},container:"body",delay:50,content:function(){var n=i?i(this):"";return $("#StatisticRelevantCandidatesLimitReached"+n).data("name")?'<div><div class="text-center" style="max-width:'+TESTDOME.utilities.getChartPopupWidth()+'px"><small>Compare with other <strong>'+$("#Difficulty"+n).data("name").toLowerCase()+'<\/strong> questions using the score distribution:<\/small><div><div id="ChartHistogram'+n+'">'+$("#ScoresChart"+n).html()+"<\/div><\/div>":'<div id="ChartHistogram'+n+'">'+$("#ScoresChart"+n).html()+"<\/div>"},template:'<div class="popover popover-wide" role="tooltip"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'}).on("mouseenter touchstart",function(){var t=this,n=i?i(this):"";$(this).popover("show");$(this).siblings(".popover").on("mouseleave",function(){$(t).popover("hide")});!$("#StatisticRelevantCandidatesLimitReached"+n).data("name")||TESTDOME.utilities.drawChart(n)}).on("mouseleave",function(){var t=this,n=function(){setTimeout(function(){$(".popover:hover").length?n():$(t).popover("hide")},50)};n()})},getTagsHtml:function(n){for(var u="",f=0;f<n.length;f++){var t=n[f],i="",r="";t.TopicId!=undefined?(i="topicId",r=t.TopicId):t.SkillId!=undefined?(i="skillId",r=t.SkillId):t.IsNew!=undefined?(i="isNew",r=t.IsNew):t.IsManuallyScored!=undefined?(i="isManuallyScored",r=t.IsManuallyScored):t.Visibility!=undefined&&(i="visibility",r=t.Visibility);u+='<abbr class="tag hyperlink" data-filter-name="'+i+'" data-filter-value="'+r+'"><span class="label">'+t.Name+"<\/span><\/abbr> ";u+='<div class="popover-content hidden"><div class="title">'+t.Name+'<\/div><div class="content">'+(t.Description||"")+"<\/div><\/div>"}return u},updateQueryStringParameter:function(n,t,i){var f=new RegExp("([?&])("+t+"=)[^&#]*","g"),u,r;return n.match(f)?n.replace(f,i!=null?"$1$2"+i:""):i==null||i.length===0?n:(u=(n.indexOf("?")<0?"?":"&")+t+"="+i,r=n.indexOf("#"),r<0?n+u:n.substring(0,r)+u+n.substring(r))},padNumberWithZeros:function(n,t){for(var i=""+n;i.length<t;)i="0"+i;return i},getSingularPlural:function(n,t,i){return n==1?n+" "+t:n+" "+i},getOriginUrl:function(){return window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},replaceLineBreaksWithHtmlBreak:function(n){return n.replace(/(?:\r\n|\r|\n)/g,"<br/>")},getQuestionTypeShortName:function(n){return n===1?"Mcq":n===2?"Mca":n===3?"Text":n===4?"Code":n===5?"QualityAssurance":n===6?"NumberPicker":n===7?"FillTheBlanks":n===8?"FileUpload":""},getQueryParams:function(n){return n.split("?")[1]},getURLParameter:function(n,t){return(RegExp(t+"=(.+?)(&|$)").exec(n)||[,null])[1]},htmlEncode:function(n){return $("<div/>").text(n).html()},getTimeLimitFeedbackName:function(n){return n==="Yes"?"Yes":n==="NoNeedMoreTime"?"No, it needs more time":n==="NoNeedLessTime"?"No, it needs less time":""},getRelevanceScoreFeedbackDescription:function(n){return n==="0"?"0 - Very dissatisfied":n==="1"?"1 - Quite dissatisfied":n==="2"?"2 - Somewhat dissatisfied":n==="3"?"3 - Neutral":n==="4"?"4 - Somewhat satisfied":n==="5"?"5 - Quite satisfied":n},initializeDragDropMoving:function(n,t,i,r,u){var f=function(){$(n).popover({content:function(){return $(this).data("content")},placement:"auto",trigger:"hover",title:"",html:!0,container:"body",delay:50})},e=function(){$(t+" > tbody > tr").hover(function(){$(this).find(n).removeClass("hidden")},function(){$(this).find(n).addClass("hidden")});$(t+" > tbody").sortable({items:"> tr",appendTo:"parent",axis:"y",placeholder:"ui-state-highlight",containment:i,helper:"clone",cursor:"move",handle:n,scroll:!1,start:function(n,t){t.item.startPos=t.item.index()},stop:function(n,i){var o=$(r).data("name"),s=i.item.index(),f,e;u=u||{};u.oldPosition=i.item.startPos;u.newPosition=s;f=function(){$(t+" > tbody > tr").each(function(){var n=$(this).index();$(this).find("[name='Position']").val(n);$(this).find("[name='Position']").next("span").find("span:first").html(n+1)})};e=function(){window.location.reload(!0)};TESTDOME.utilities.callAjax(o,u,f,e)}}).disableSelection()};f();e()}};$(function(){TESTDOME.utilities.registerClosePopoverOnClick()});TESTDOME=TESTDOME||{};TESTDOME.page=TESTDOME.page||{};TESTDOME.page.codeBoxes=[];TESTDOME.adminUI={loaderIcon:'<span class="glyphicon glyphicon-refresh spinning"><\/span>',refreshQuestionTagsPopovers:function(){$(".questiondifficulty-description").each(function(n,t){if($(t).next()&&$(t).next().find(".content")&&$(t).next().find(".content").html()&&$(t).next().find(".content").html().length>0){var i="";$(t).hasClass("hyperlink")&&(i=" (click to filter)");$(t).popover({html:!0,trigger:"hover",placement:TESTDOME.utilities.determinePopupPlacement,container:"body",delay:50,title:function(){return $(this).next().find(".title").html()+i},content:function(){return $(this).next().find(".content").html()}})}})},initializeAdminUI:function(){!jQuery.ui||$(window).resize(function(){$("#dialog").dialog("option","position","center")});$(function(){$(window).load(function(){$(".breadcrumb li [data-content]").popover({content:function(){if($(this).data("content")!=$(this).html())return $(this).data("content")},delay:50,placement:"bottom",trigger:"hover",container:"body"});TESTDOME.adminUI.refreshQuestionTagsPopovers()})});$("span.field-validation-valid, span.field-validation-error").each(function(){$(this).addClass("help-inline")});$(".validation-summary-errors").each(function(){$(this).find("ul > li").html().length===0?$(this).hide():($(this).addClass("alert"),$(this).addClass("alert-error"),$(this).addClass("alert-block"))});$("form").submit(function(){$(this).valid()?$(this).find("div.control-group").each(function(){$(this).find("span.field-validation-error").length===0&&$(this).removeClass("error")}):($(this).find("div.control-group").each(function(){$(this).find("span.field-validation-error").length>0&&$(this).addClass("error")}),$(".validation-summary-errors").each(function(){$(this).hasClass("alert-error")===!1&&($(this).addClass("alert"),$(this).addClass("alert-error"),$(this).addClass("alert-block"))}),$("span.field-validation-valid, span.field-validation-error").length>0&&TESTDOME.utilities.scrollToElement($("span.field-validation-valid, span.field-validation-error").first()))});$("form").each(function(){$(this).find("div.control-group").each(function(){$(this).find("span.field-validation-error").length>0&&$(this).addClass("error")})});$("input[type='password'], input[type='text']").blur(function(){$(this).hasClass("input-validation-error")===!0||$(this).closest(".control-group").find("span.field-validation-error").length>0?($(this).addClass("error"),$(this).closest(".control-group").addClass("error")):($(this).removeClass("error"),$(this).closest(".control-group").removeClass("error"))});$.validator.setDefaults({highlight:function(n){$(n).closest(".control-group").addClass("error")},unhighlight:function(n){$(n).closest(".control-group").removeClass("error")}})},openDialog:function(n,t,i,r,u){n.preventDefault();var f;f=u?u:t.attr("href");$dialog=$('<div id="dialog" style="overflow:hidden;"><\/div>').html('<iframe style="border: 0px;" src="'+f+'" width="100%" height="100%"><\/iframe>').dialog({autoOpen:!1,modal:!0,draggable:!1,resizable:!1,height:r,width:i});$dialog.dialog("open")},reloadSelectItems:function(n,t,i){t.empty();i&&$.getJSON(n,{categoryId:i},function(n){$.each(n,function(n,i){t.append($("<option/>").attr("value",i.Value).text(i.Text))});t.change()})},toggleTree:function(n,t,i){for(var u,e,r=$(n),f=0;f<t;f++)r=r.parent();u=r.next();u.is(":visible")?(u.hide(),i&&$(n).text("+")):(u.show(),e=r.offset().top-50,$("html, body").animate({scrollTop:e},1e3),i&&$(n).text("-"))},expandBox:function(n,t){$(n).click(function(){$(t).is(":visible")?$(t).hide("blind"):$(t).show("blind")})},findNearest:function(n,t,i,r){for(var e,o=null,f=null,u=0;u<r.length;u++)(n&&r[u]<=i||t&&r[u]>=i)&&(e=Math.abs(i-r[u]),(f===null||e<f)&&(o=r[u],f=e));return o},initializeSlider:function(n,t,i){function f(n){var t=n.val();$(".ui-slider-legend-label").each(function(n,i){var r=$(i);r.text()===t?r.css("font-weight","bold"):r.css("font-weight","normal")})}function o(n,t){var o,e,r,u,s;for($(".ui-slider-legend").remove(),o=i.slider(),e=o.width(),e=e*1,r='<div class="ui-slider-legend" style="position:relative">',r+='<div style="float:left;margin-left:-3px;" class="ui-slider-legend-label">'+n[0]+"<\/div>",u=1;u<n.length-1;u++)s=parseInt(e*((n[u]-n[0])/(n[n.length-1]-n[0])))-8,r+='<div class="ui-slider-legend-label" style="position:absolute;width:20px;text-align:center;margin-left:'+s+'px;">'+n[u]+"<\/div>";r+='<div class="ui-slider-legend-label" style="float:right;margin-right:-7px;">';r+=n[n.length-1];r+="<\/div><\/div>";o.after(r);f(t)}var u,e,r;i==undefined&&(i=$("#slider"));u=t.val();e=function(i,u){var o=i.keyCode!==$.ui.keyCode.RIGHT,s=i.keyCode!==$.ui.keyCode.LEFT,e=TESTDOME.adminUI.findNearest(o,s,u.value,n);return u.value===u.values[0]?(r.slider("values",0,e),t.val(e),f(t)):r.slider("values",1,e),!1};r=i.slider({min:n[0],max:n[n.length-1],values:[u],slide:e});o(n,t);$(window).resize(function(){o(n,t)})},initializeSubmissionSlider:function(n,t){function r(n,t,i){var r={candidateId:o,questionId:n,answerId:t,candidateShareKey:s,testShareKey:e},u=function(){TESTDOME.adminUI.displayError("Error occurred when getting the candidate answer! Please refresh the page.")};TESTDOME.utilities.callAjax(h,r,i,u)}var u=4,f=5,i=n;$(".submission-slider").each(function(){function v(t,i){var o=50*(t.length-1),f,s,u;for(i.css("width",o+"px"),i.siblings(".submission-slider-legend").each(function(){$(this).remove()}),o=i.width()*1,f='<div class="submission-slider-legend">',f+='<div class="hidden time-tooltip" data-question-id="'+n[0].questionId+'" data-answer-id="'+n[0].answerId+'">'+n[0].time+"<\/div>",f+='<div class="submission-slider-legend-label" data-question-id="'+n[0].questionId+'" data-answer-id="'+n[0].answerId+'"  data-value="1" data-toggle="tooltip" title="'+n[0].time+'"><\/div>',s=-11,u=1;u<t.length;u++){var e=u*50-7,h=e-40,c=e-27;s=e;f+='<div class="submission-slider-separator" style="margin-left:'+c+'px;" >&nbsp;<\/div>';f+='<div class="hidden time-tooltip" style="margin-left:'+h+'px;" data-question-id="'+n[u].questionId+'" data-answer-id="'+n[u].answerId+'"  >'+n[u].time+"<\/div>";f+='<div class="submission-slider-legend-label" style="margin-left:'+e+'px;" data-question-id="'+n[u].questionId+'" data-answer-id="'+n[u].answerId+'"  data-value="'+(u+1)+'" data-toggle="tooltip" title="'+n[u].time+'" ><\/div>'}f+="<\/div>";i.after(f);i.next().children(".submission-slider-legend-label").each(function(){$(this).tooltip({container:"body"});$(this).unbind("click");$(this).on("click",function(){i.slider("values",0,$(this).data("value"));r($(this).data("question-id"),$(this).data("answer-id"),a($(this).data("answer-id"),i))})});i.next().find(".time-tooltip").each(function(){$(this).data("answer-id")==l?$(this).removeClass("hidden"):$(this).addClass("hidden")})}var c=$(this),o,s;try{if(c.slider("widget"))return}catch(p){}if(o=$("#"+c.data("source")),t==undefined||o.data("question-id")==t){var n=[],w=o.children().each(function(){n.push({questionId:o.data("question-id"),index:$(this).data("index"),time:$(this).data("time"),answerId:$(this).data("answer-id")})}),l=n[n.length-1].answerId,h=[];for(s=1;s<=n.length;s++)h[s-1]=s;var a=function(n,t){return l=n,t.next().find(".time-tooltip").each(function(){$(this).data("answer-id")==l?$(this).removeClass("hidden"):$(this).addClass("hidden")}),t.closest(i).find(".loader").show(),function(n){if(n.questionType==u){var r=t.closest(i).find(".testdome-codebox").data("uid");TESTDOME.page.codeBoxes[r].setValue(n.answer);TESTDOME.utilities.refreshCodeMirror();t.closest(i).find(".verify-console").html(n.output)}else n.questionType==f&&(t.parents(i).find(".question-answer").html(n.answer),t.parents(i).find(".verify-console").html(n.output));t.closest(i).find(".loader").hide()}},y=function(t,i){var f=t.keyCode!==$.ui.keyCode.RIGHT,o=t.keyCode!==$.ui.keyCode.LEFT,u=TESTDOME.adminUI.findNearest(f,o,i.value,h);return i.value===i.values[0]?e.slider("values",0,u):e.slider("values",1,u),r(n[u-1].questionId,n[u-1].answerId,a(n[u-1].answerId,e)),!1},e=c.slider({min:1,max:n.length,values:[n.length],slide:y});v(h,e);$("#submission-slider-scroll-"+o.data("question-id")).animate({scrollLeft:e.width()},10);$(window).resize(function(){v(h,e)})}});var e=$("#TestShareKey").data("name"),o=$("#TestCandidateId").data("name"),s=$("#CandidateShareKey").data("name"),h=$("#GetQuestionAnswerUrl").data("name");$(".timeline-view").unbind("click");$(".timeline-view").on("click",function(){$(this).closest(i).find(".changes-holder").hide();$(this).closest(i).find(".solution-holder").hide();$(this).closest(i).find(".answer-holder").show();$(this).closest(i).find(".submission-slider-scroll").show();$(this).addClass("active");$(this).closest(i).find(".changes-view").removeClass("active");$(this).closest(i).find(".solution-view").removeClass("active");TESTDOME.utilities.refreshCodeMirror();TESTDOME.adminUI.refreshCodeBoxes()});$(".changes-view").unbind("click");$(".changes-view").on("click",function(){$(this).closest(i).find(".solution-holder").hide();$(this).closest(i).find(".answer-holder").hide();$(this).closest(i).find(".submission-slider-scroll").hide();$(this).closest(i).find(".changes-holder").show();$(this).addClass("active");$(this).closest(i).find(".timeline-view").removeClass("active");$(this).closest(i).find(".solution-view").removeClass("active");TESTDOME.utilities.refreshCodeMirror();TESTDOME.adminUI.refreshCodeBoxes()});$(".solution-view").unbind("click");$(".solution-view").on("click",function(){$(this).closest(i).find(".changes-holder").hide();$(this).closest(i).find(".answer-holder").hide();$(this).closest(i).find(".submission-slider-scroll").hide();$(this).closest(i).find(".solution-holder").show();$(this).addClass("active");$(this).closest(i).find(".changes-view").removeClass("active");$(this).closest(i).find(".timeline-view").removeClass("active");TESTDOME.utilities.refreshCodeMirror();TESTDOME.adminUI.refreshCodeBoxes()})},showInfoMessageBox:function(){$("#InfoMessageBox").length==0&&$("header").after('<div class="container"><div id="InfoMessageBox" class="infomessage-box mtop"><\/div><\/div>')},displayAjaxResultMessages:function(n,t){n.Success?$.each(n.Messages,function(n,i){t?TESTDOME.adminUI.showFloatingMessage(i,!1):TESTDOME.adminUI.displayMessage(i)}):$.each(n.ErrorMessages,function(n,i){t?TESTDOME.adminUI.showFloatingMessage(i,!0):TESTDOME.adminUI.displayError(i)})},showFloatingMessage:function(n,t,i){var r=$('<div class="alert '+(t?"alert-danger":"alert-success")+' "><button aria-hidden="true" data-dismiss="alert" class="close" type="button"><\/button>'+n+"<\/div>"),u;$("#FloatingMessageInside").append(r);u=r.show().delay(5e3);i||u.fadeOut(2e3,function(){r.remove()})},displayMessage:function(n){TESTDOME.adminUI.showInfoMessageBox();$("#InfoMessageBox").html('<div class="alert alert-success alert-dismissable mtop"><button aria-hidden="true" data-dismiss="alert" class="close" type="button"><\/button>'+n+"<\/div>").show()},displayError:function(n){TESTDOME.adminUI.showInfoMessageBox();$("#InfoMessageBox").html('<div class="alert alert-danger alert-dismissable mtop"><button aria-hidden="true" data-dismiss="alert" class="close" type="button"><\/button>'+n+"<\/div>").show()},clearMessage:function(){$("#InfoMessageBox").hide()},saveBeforeLeavingPage:function(n,t){$(n).change(function(){TESTDOME.page.formModified=1});$(t).click(function(){TESTDOME.page.formModified=0});$(window).bind("beforeunload",function(){if(TESTDOME.page.formModified===1)return"There are unsaved changes that will be lost if you decide to continue."})},logError:function(n){try{TESTDOME.utilities.callAjax($("#LogErrorUrl").data("name"),{message:n},null,null)}catch(t){}},checkCandidateUIScripts:function(){var n,t;window.Tour&&window.Clipboard&&window.CodeMirror&&window.jQuery&&jQuery.ui&&$.fn.popover||(n="Url: "+window.location.href+";",window.Tour||(n+="Tour not loaded;"),window.Clipboard||(n+="ClipboardJs not loaded;"),window.CodeMirror||(n+="CodeMirror not loaded;"),window.jQuery||(n+="jQuery not loaded;"),jQuery.ui||(n+="Jquery UI not loaded;"),typeof $.fn.popover||(n+="Bootstrap not loaded;"),window.bugsnagClient!=undefined?bugsnagClient.notify(new Error(n)):TESTDOME.adminUI.logError(n),t=TESTDOME.utilities.decode("eaSSUHI@IpeIxUqp.YUq","xFo4pEHyNw5YZXKVq0BO32UnSgstMWiu9PjDJQAv7TdLRleIrCzahcfGb1m8k6"),$("body").replaceWith('<div class="container"><h2>The required scripts have not loaded correctly!<\/h2><h4>Try reloading the page or using another browser. If you are still unable to run the test, contact <a href="mailto:'+t+'">'+t+"<\/a>.<\/h4><\/div>"))},htmlEditor:function(n,t,i){function u(n,t,i,r){for(var f=n.data.path.elements,e=CKEDITOR.TRISTATE_OFF,u=0;u<f.length;u++)if(f[u].getName()===t){e=r;continue}n.editor.getCommand(i).setState(e)}var r={plugins:"dialogui,dialog,basicstyles,clipboard,panel,floatpanel,menu,contextmenu,button,toolbar,enterkey,entities,popup,filebrowser,floatingspace,listblock,richcombo,format,horizontalrule,htmlwriter,wysiwygarea,image,indent,indentlist,fakeobjects,link,list,magicline,pastetext,pastefromword,removeformat,showborders,table,tabletools,menubutton,tab,undo,resize,sourcedialog",removeButtons:"Anchor,Strike,Outdent,Indent,Format,RemoveFormat",allowedContent:"p; h1; h2; img[!src,alt,width,height,style]; table[width]; tbody; thead; th[colspan,rowspan]; tr; td[colspan,rowspan]; strong; em; ul; ol; li; a[!href,target]; hr; code; sup; sub; pre; span; blockquote",extraAllowedContent:"*(*){*}",disallowedContent:"img{width,height}",extraPlugins:"codesnippet",codeSnippet_theme:"vs-custom",codeSnippet_languages:{apache:"Apache",bash:"Bash",coffeescript:"CoffeeScript",cpp:"C++",cs:"C#",css:"CSS",diff:"Diff",html:"HTML",http:"HTTP",ini:"INI",java:"Java",javascript:"JavaScript",json:"JSON",makefile:"Makefile",markdown:"Markdown",nginx:"Nginx",objectivec:"Objective-C",perl:"Perl",php:"PHP",python:"Python",ruby:"Ruby",scala:"Scala",sql:"SQL",typescript:"Typescript",vbnet:"VB.NET",vbscript:"VBScript",xhtml:"XHTML",xml:"XML"},tabSpaces:4,filebrowserBrowseUrl:"/file-picker",filebrowserWindowWidth:"400",filebrowserWindowHeight:"200",language:"en",image_previewText:" ",disableNativeSpellChecker:!1,resize_dir:"both",height:t!=null?t:200,enterMode:i?CKEDITOR.ENTER_BR:CKEDITOR.ENTER_P};i?CKEDITOR.inline(n,r):CKEDITOR.replace(n,r);CKEDITOR.on("dialogDefinition",function(n){if(n.data.name=="link"&&(n.data.definition.getContents("target").get("linkTargetType")["default"]="_blank",n.data.definition.getContents("info").elements[2].children[1].label="Upload"),n.data.name=="image"){n.data.definition.getContents("info").elements[0].children[0].children[1].label="Upload";var t=$("#MaxImageWidthLabel").data("name"),i=$("#MaxImageHeightLabel").data("name");t&&t.length>0&&(n.data.definition.getContents("info").elements[2].children[0].children[0].children[0].children[0].label=t);i&&i.length>0&&(n.data.definition.getContents("info").elements[2].children[0].children[0].children[0].children[1].label=i)}});CKEDITOR.on("instanceReady",function(n){function t(){n.editor.updateElement()}n.editor.on("selectionChange",function(n){u(n,"table","table",CKEDITOR.TRISTATE_ON);u(n,"img","image",CKEDITOR.TRISTATE_ON)});n.editor.dataProcessor.writer.setRules("p",{indent:!1,breakBeforeOpen:!0,breakAfterOpen:!1,breakBeforeClose:!1,breakAfterClose:!1});n.editor.document.on("keyup",t);n.editor.document.on("paste",t);n.editor.document.on("keypress",t);n.editor.document.on("blur",t);n.editor.document.on("change",t)})},addRequiredIf:function(){$.validator.unobtrusive.adapters.add("requiredif",["dependentproperty","desiredvalue"],function(n){n.rules.requiredif=n.params;n.messages.requiredif=n.message});$.validator.addMethod("requiredif",function(n,t,i){var r=i.desiredvalue,f,u,e;return(r=(r==null?"":r).toString(),f=$("input[id$='"+i.dependentproperty+"']").attr("type"),u={},f=="checkbox"||f=="radio"?(e=$("input[id$='"+i.dependentproperty+"']:checked"),u=e.val()):u=$("#"+i.dependentproperty).val(),$.trim(r).toLowerCase()===$.trim(u).toLocaleLowerCase())?$.validator.methods.required.call(this,n,t,i):!0})},getCodeBoxMode:function(n){return n=="htmlmixed"&&(n={name:"htmlmixed",tags:{script:[["type",/^text\/babel$/,"jsx"],["type",/^text\/jsx$/,"jsx"],],custom:[[null,null,"text/javascript"]]}}),n},refreshCodeBoxes:function(){$(".testdome-codebox").length>0&&$(".testdome-codebox").each(function(){$this=$(this);codeMirror=TESTDOME.page.codeBoxes[$this.data("uid")];typeof codeMirror!="undefined"?codeMirror.refresh():(codeMirror=CodeMirror.fromTextArea(this,{lineNumbers:!0,theme:"CodeMirror-HighlightJS-VS",mode:TESTDOME.adminUI.getCodeBoxMode($this.data("mode")),readOnly:$this.data("readonly"),indentUnit:$this.data("indentunit"),autoCloseBrackets:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],matchBrackets:!0,extraKeys:{"Ctrl-Space":"autocomplete",Tab:function(n){var t=Array(n.getOption("indentUnit")+1).join(" ");n.replaceSelection(t)}}}),TESTDOME.page.codeBoxes[$this.data("uid")]=codeMirror)})}};var codeMirror;$(function(){TESTDOME.adminUI.initializeAdminUI();$("a.to-top").on("click",function(n){n.preventDefault();$("html, body").animate({scrollTop:0},"fast")});TESTDOME.adminUI.refreshCodeBoxes()});TESTDOME.page.refreshFavoriteIcons=function(n){function t(i,r){function u(n){var u=n?"testdome-add-to-favorites":"testdome-remove-from-favorites",f=n?"testdome-remove-from-favorites":"testdome-add-to-favorites",t,r;i.removeClass(u).addClass(f);i.attr("data-content",n?"Remove from Favorites":"Add to Favorites");i.data("bs.popover").setContent();t=n?"glyphicon-star-empty":"glyphicon-star";r=n?"glyphicon-star":"glyphicon-star-empty";$(i.find(".glyphicon")[0]).removeClass(t).addClass(r)}u(r);i.unbind("click");var f=function(){i.click(function(){return t($(this),!r),!1})},e=function(){TESTDOME.adminUI.displayError("Error setting question as favorite.");u(!r)},o=JSON.stringify({id:n(i),add:r});TESTDOME.utilities.callAjax($("#ToggleFavoriteUrl").data("name"),o,f,e,{json:!0})}$(".testdome-add-to-favorites,.testdome-remove-from-favorites").unbind();$(".testdome-add-to-favorites,.testdome-remove-from-favorites").popover({content:function(){return $(this).data("content")},placement:"auto",trigger:"hover",title:"",html:!0,container:"body",delay:50});$(".testdome-add-to-favorites").click(function(){return t($(this),!0),!1});$(".testdome-remove-from-favorites").click(function(){return t($(this),!1),!1})};window.bugsnagClient==undefined&&(window.onerror=function(n,t,i){if(!n||!(n.indexOf("Script error")>-1))return t&&t.indexOf(".olark.com")>-1?void 0:t&&t.indexOf("twitter.com")>-1?void 0:t&&t.indexOf("facebook.net")>-1?void 0:t&&t.indexOf("linkedin.com")>-1?void 0:(TESTDOME.adminUI.logError("Error: "+n+"\nurl: "+t+"\nline #: "+i),!0)});
//# sourceMappingURL=/bundles/js.bundlemap
